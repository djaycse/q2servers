//----------------------------------------
// OpenTDM server config
//----------------------------------------
//
// Created by: .cse
// Last modified: 21 Oct 2025, by .cse

set hostname "OZ Quake II - OpenTDM"
set public 0			// server publicises IP to master servers below
setmaster ""			// master.q2servers.com
set deathmatch 1
set cheats 0
set log_stats 0
set maxclients 18 // includes the 1 reserved admin spot
//set dmflags ...		// set via g_*flags vars
set fraglimit 30
set timelimit 10

//----------------------------------------
// Custom variables
//----------------------------------------
set location "Sydney, Australia" s
set admins ".cse" s
//set hostinfo "cse..." s
//set website "cse..." s
//set contact "cse@..." s

//----------------------------------------
// Q2PRO settings
//----------------------------------------
//set net_ip                    "127.0.0.1"
//set net_port                  "27920"			// Set via command line
set sv_reserved_slots           "2"
set sv_downloadserver           "http://packetflinger.com/dl/q2/" // Thanks to Claire/packetflinger.com!
set sv_uptime                   "2"             // Verbose format
set sv_enhanced_setplayer       "1"             // Partial client name matching for certain console commands like ‘kick’ and ‘stuff’
set allow_download              "1"
set allow_download_maps         "2"             // Maps from within paks too
set sv_mvd_enable               "2"             // Record and transmit to GTV
set logfile                     "2"             // Append to log file

//----------------------------------------
// OpenTDM mod settings
//----------------------------------------
set g_team_a_name               "Girlz"
set g_team_b_name               "Guyz"
set g_team_a_skin               "female/athena"
set g_team_b_skin               "male/grunt"
set g_match_countdown           "10"
set g_tdmflags                  "1040"          // 0000 0100 0001 0000
set g_itdmflags                 "10255"         // 0010 1000 0000 1111
set g_1v1flags                  "1040"          // 0000 0100 0001 0000
set g_overtime                  "120"
set g_teleporter_nofreeze       "1"
set g_fast_weap_switch          "0"
set g_max_timeout               "120"
set g_1v1_timeout               "120"
set g_max_players_per_team      "6"
set g_maplistfile               "maplist.txt"
set g_http_enabled              "1"
set g_tdm_spawn_mode            "1"             // avoid closest
set g_1v1_spawn_mode            "2"             // random (vote webconfig edl to get avoid closest)

//----------------------------------------
// R1Q2 anticheat settings
//----------------------------------------
set sv_anticheat_required       "0"             // 0=disabled, 1=optional, 2=forced
set sv_anticheat_error_action   "0"             // 0=connect w/o anticheat if ac unavailable. 1=disallow all new connections
set sv_anticheat_message        "You need anticheat to connect to this server. Visit http://antiche.at/ for more details"
set sv_anticheat_badfile_action "1"             // 0=kick, 1=notify player, 2=broadcast
set sv_anticheat_badfile_message ""
set sv_anticheat_badfile_max    "0"             // 0=no limit
set sv_anticheat_nag_time       "6"             // seconds to show nag message for non-ac clients
set sv_anticheat_nag_message    "********************\nWe encourage you to use ANTICHEAT. Visit http://antiche.at/ for more details\n********************"
set sv_anticheat_nag_defer      "3"             // seconds to wait after the player has joined server before showing the nag message.
set sv_anticheat_show_violation_reason "1"
set sv_anticheat_client_disconnect_action "0"   // 0=invalidate, 1=kick
set sv_anticheat_disable_play   "0"             // 1=disable play client side play command
//addnullcmd play // not sure if this is needed when sv_anticheat_disable_play is enabled but use anyway just in case

// wallfly anticheat exceptions
addacexception 74.53.34.226
addacexception 74.52.170.50
addacexception 74.86.102.74

setmaster       master.q2servers.com master.qtracker.com

//map q2dm1  //discourage calling of map via cfg. Use "+map q2dm1" in the server command line instead
